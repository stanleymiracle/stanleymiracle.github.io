<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

Generated from intro.tex by tex2page, v 20050501
(running on MzScheme 205, unix), 
(c) Dorai Sitaram, 
http://www.ccs.neu.edu/~dorai/tex2page/tex2page-doc.html

-->
<head>
<title>
tex2page 使用指南
</title>
<link rel="stylesheet" type="text/css" href="intro-Z-S.css" title=default>
<link rel="stylesheet" type="text/css" href="tex2page.css" title=default>
<meta name=robots content="noindex,follow">
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"></head>
<body>
<div id=content>
<div align=right class=navigation><i>[<span><a href="intro.html">首页</a>, <a href="intro-Z-H-16.html">上一页</a></span><span>, <a href="intro-Z-H-18.html">下一页</a></span><span>; &nbsp;&nbsp;</span><span><a href="intro-Z-H-1.html#node_toc_start">目录 </a></span><span><span>; &nbsp;&nbsp;</span><a href="intro-Z-H-21.html#node_index_start"> 索引 </a></span>]</i></div>
<p></p>
<a name="node_chap_16"></a>
<h1 class=chapter>
<div class=chapterheading><a href="intro-Z-H-1.html#node_toc_node_chap_16">第十六章</a></div><br>
<a href="intro-Z-H-1.html#node_toc_node_chap_16">中文设置</a></h1>
<p>
<a name="node_tag_Temp_7"></a></p>
<p>
</p>
<a name="node_sec_16.1"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_16.1">16.1&nbsp;&nbsp;作废声明</a></h2>
<p><font color="red">提示：这章大部分内容作废。</font></p>
<p>
以前以下这些都是我修改过的版本才有的功能。不过现在 Dorai
采纳了 我的建议，这些功能已经加入 tex2page
正式版本。包括一个 chinese.t2p
文件可以把所有章节标题，日期，数字全都用中文显示。所以以下的内容你
有兴趣就看看，没兴趣的话，只要在你的 T<small>E</small>X或者 t2p
文件里加入:</p>
<p>
</p>
<pre class=verbatim>\input chinese.t2p&nbsp;
</pre><p></p>
<p>
就行了，句号。如果你有兴趣可以修改 chinese.t2p 来满足你的特
殊需要，或者看看下面这些历史细节。下面是历史内容：</p>
<p>
<div class=history></p>
<p>
tex2page 本身是一个不认识人类语言的 Scheme 程序，所以它理论
上支持任何人类语言。</p>
<p>
但是如果你不知道怎么设置，你不会得到很好的中文效果。</p>
<p>
</p>
<a name="node_sec_16.2"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_16.2">16.2&nbsp;&nbsp;设置 HTML charset</a></h2>
<p>如果你使用缺省的 charset 是 iso5559-1, 这样你的中文网页无论
在中国人还是外国人的浏览器里都不能正确显示。</p>
<p>
为了改变 charset, 你可以在你的 jobname.t2p 文件里设定：</p>
<p>
</p>
<pre class=verbatim>\evalh{&nbsp;
(set! *html-head* (append *html-head*&nbsp;
  '(&quot;&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;\&nbsp;
charset=utf-8\&quot;&gt;&quot;)))&nbsp;
}</pre><p></p>
<p>
*html-head* 是一个表，它里面的内容会被依次加入到 HTML 的
&lt;head&gt; 里。</p>
<p>
</p>
<a name="node_sec_16.3"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_16.3">16.3&nbsp;&nbsp;设置标题</a></h2>
<p>缺省的 tex2page 会有一些页面显示为 <q>Contents</q>,
<q>Chapter</q>, <q>Part</q>, <q>Index</q>, <q>Bibliography</q>, ...</p>
<p>
如何使这些字符都显示为中文？</p>
<p>
在 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">里，你可以定义：</p>
<p>
</p>
<pre class=verbatim>\renewcomammnd{contentsname}{目录}&nbsp;
</pre><p></p>
<p>
但是似乎 tex2page 没有提供多少让你改变这些条目的东西。所以我
对 tex2page 的代码做了一些修改，让它支持这种命令。改动以后的
tex2page 代码可以在这里
<a href="../src/tex2page.tar.gz">下载</a>.
可能只支持 Scheme, 不像原来的程序可以在 Common Lisp 下运行。</p>
<p>
注意这个包里只有修改过的 tex2page 程序和我的一个
chinese.t2p. 我不提供其它的必须的 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">样式文件，请到
<a href="http://www.ccs.neu.edu/home/dorai/tex2page/tex2page-doc.html">tex2page 的主页</a>去下载那些。</p>
<p>
我的 intro.t2p 文件里有这些设定：</p>
<p>
</p>
<pre class=verbatim>\evalh{&nbsp;
(set! *html-head* (append *html-head*&nbsp;
  '(&quot;&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html;\&nbsp;
charset=utf-8\&quot;&gt;&quot;)))&nbsp;
&nbsp;
\eval {&nbsp;
(set! *navigation-sentence-begin* &quot;&quot;)&nbsp;
(set! *navigation-first-name* &quot;首页&quot;)&nbsp;
(set! *navigation-previous-name* &quot;上一页&quot;)&nbsp;
(set! *navigation-next-name* &quot;下一页&quot;)&nbsp;
(set! *navigation-page-name* &quot;&quot;)&nbsp;
(set! *navigation-contents-name* &quot;目录 &quot;)&nbsp;
(set! *navigation-index-name* &quot; 索引 &quot;)&nbsp;
(set! *last-modified* &quot;最后更新&quot;)&nbsp;
(set! *html-conversion-by* &quot;HTML 转换程序：&quot;)&nbsp;
}&nbsp;
&nbsp;
(define emit-chapter-heading&nbsp;
  (lambda (lbl-val)&nbsp;
    (if *inside-appendix?*&nbsp;
        (tex2page-string &quot;\\appendixname&quot;))&nbsp;
       (tex2page-string &quot;第 &quot;)&nbsp;
       (emit lbl-val)&nbsp;
       (tex2page-string &quot; 章&quot;)))&nbsp;
&nbsp;
(define emit-part-heading&nbsp;
  (lambda (lbl-val)&nbsp;
    (emit &quot;第 &quot;)&nbsp;
    (emit lbl-val)&nbsp;
    (emit &quot; 部分&quot;)))&nbsp;
&nbsp;
}&nbsp;
&nbsp;
\renewcommand\contentsname{目录}&nbsp;
\renewcommand{\bibname}{参考书目}&nbsp;
\renewcommand{\bibname}{参考文献}&nbsp;
\renewcommand{\chaptername}{章}&nbsp;
\renewcommand{\appendixname}{附录}&nbsp;
\renewcommand\indexname{索引}&nbsp;
\renewcommand\figurename{图}&nbsp;
\renewcommand\tablename{表}&nbsp;
</pre><p></p>
<p>
其中 *navigation-...* 是一些 Scheme 变量，它们定义了导航栏显示的文
字。后面几个 <code class=verbatim>\renewcommand</code> 改变了很多条目用中文显示。</p>
<p>
</div></p>
<p>
</p>
<div align=right class=navigation><i>[<span><a href="intro.html">首页</a>, <a href="intro-Z-H-16.html">上一页</a></span><span>, <a href="intro-Z-H-18.html">下一页</a></span><span>; &nbsp;&nbsp;</span><span><a href="intro-Z-H-1.html#node_toc_start">目录 </a></span><span><span>; &nbsp;&nbsp;</span><a href="intro-Z-H-21.html#node_index_start"> 索引 </a></span>]</i></div>
<p></p>
</div>
</body>
</html>

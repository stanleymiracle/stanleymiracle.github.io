<!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!--

Generated from intro.tex by tex2page, v 20050501
(running on MzScheme 205, unix), 
(c) Dorai Sitaram, 
http://www.ccs.neu.edu/~dorai/tex2page/tex2page-doc.html

-->
<head>
<title>
tex2page 使用指南
</title>
<link rel="stylesheet" type="text/css" href="intro-Z-S.css" title=default>
<link rel="stylesheet" type="text/css" href="tex2page.css" title=default>
<meta name=robots content="noindex,follow">
<meta http-equiv="Content-Type" content="text/html;charset=gb2312"></head>
<body>
<div id=content>
<div align=right class=navigation><i>[<span><a href="intro.html">首页</a>, <a href="intro-Z-H-1.html">上一页</a></span><span>, <a href="intro-Z-H-3.html">下一页</a></span><span>; &nbsp;&nbsp;</span><span><a href="intro-Z-H-1.html#node_toc_start">目录 </a></span><span><span>; &nbsp;&nbsp;</span><a href="intro-Z-H-21.html#node_index_start"> 索引 </a></span>]</i></div>
<p></p>
<a name="node_chap_1"></a>
<h1 class=chapter>
<div class=chapterheading><a href="intro-Z-H-1.html#node_toc_node_chap_1">第一章</a></div><br>
<a href="intro-Z-H-1.html#node_toc_node_chap_1">简介</a></h1>
<p></p>
<p>
</p>
<p>
</p>
<p>
</p>
<p>
<a name="node_idx_2"></a>
<a name="node_idx_4"></a>
</p>
<a name="node_sec_1.1"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_1.1">1.1&nbsp;&nbsp;tex2page 是什么？</a></h2>
<p>tex2page 是一个可以把 plain T<small>E</small>X或者 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">文档转换成 HTML
的工具。它是由 <a href="http://www.ccs.neu.edu/home/dorai/">Dorai Sitaram</a>开发的一个 Scheme 程序。它完全支持中文
和各个国家的语言。</p>
<p>
如果你不知道什么是 T<small>E</small>X，可以参考
<a href="http://learn.tsinghua.edu.cn/homepage/015450/tex_frame.html">http://learn.tsinghua.edu.cn/homepage/015450/tex_frame.html</a>.</p>
<p>
你只需要知道一些 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">的基本命令就可以开始使用 tex2page.</p>
<p>
<a name="node_idx_6"></a>
<a name="node_idx_8"></a></p>
<p>
如果你对 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">很熟悉，你就会发现，<img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">里能使用的几乎所有基本结构 tex2page 都能支持。比如，表
格，数学公式。</p>
<p>

</p>
<a name="node_tbl_Temp_2"></a>
<div class=table align=center><table width=100%><tr><td align=center></td></tr>
<tr><td align=center><b>表 1:</b>&nbsp;&nbsp;一个简单的表格</td></tr>
<tr><td>
<div align=center><table><tr><td>

<table border=1><tr><td valign=top >A  </td><td valign=top >B </td><td valign=top >C</td></tr>
<tr><td valign=top >10 </td><td valign=top >hello </td><td valign=top ><img src="intro-Z-G-2.png" border="0" alt="[intro-Z-G-2.png]"> </td></tr>
<tr><td valign=top ><img src="intro-Z-G-3.png" border="0" alt="2^{10}"> </td><td valign=top ><img src="intro-Z-G-4.png" border="0" alt="\sqrt100"> </td><td valign=top ><img src="intro-Z-G-5.png" border="0" alt="\sum_{0\leq j\leq m}\sum_{j\leq k
        \leq n} x_{jk}"></td></tr>
<tr><td valign=top ></td></tr></table>
</td></tr></table></div>

</td></tr></table></div><p></p>
<p>
</p>
<div align=center><img src="intro-Z-G-6.png" border="0" alt="[intro-Z-G-6.png]"></div><p></p>
<p>
注意，数学公式如果字体太小，转换出来效果不是很好。要改变
T<small>E</small>X生成的图片大小只需要定义一个 <code class=verbatim>\imgpreamble</code>. 具体请参
考第 <a href="intro-Z-H-16.html#node_sec_15.3">15.3</a> 节。</p>
<p>
还有章节，目录，插图，脚注，定义命令，交叉引用，参考文献，索
引…… 你都可以在本文里看到。</p>
<p>
</p>
<a name="node_sec_1.2"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_1.2">1.2&nbsp;&nbsp;为什么要用 tex2page?</a></h2>
<p>你也许觉得 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">输出成为 dvi, ps, pdf 效果那么好，我们为什
么要把 T<small>E</small>X文件转换成 HTML?</p>
<p>
HTML 在屏幕浏览上比起 PS, PDF 有非常大的优点。HTML 网页一目
了然，一个网页可以很长，你拖动滚动条就可以看到上下文，不用翻
页。</p>
<p>
而且网页里可以加入各种样式，你如果用了 CSS，你的网页可以
有非常好的动态效果，比如浮动的导航栏，动画，声音，超链接等等。
这些是 PS, PDF 不可比拟的优点。</p>
<p>
如果你用 CSS，只需要修改 CSS 文件就可以改变整个文档的样式。
你不需要重新运行 tex2page，而只需要刷新一下浏览器就可以得到
另外一种风格的文档。</p>
<p>
最后，可以保证你接受这一工具的优点是：你不需要特别学习什么。
你只需要按通常的 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">的用法，就可以得到两个版本。何乐而不
为？看看这里就是
<a href="http://learn.tsinghua.edu.cn/homepage/015450/src/intro.pdf">本文的
PDF 版本</a>。</p>
<p>
</p>
<a name="node_sec_1.3"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_1.3">1.3&nbsp;&nbsp;tex2page 与 T<small>E</small>X 的不同点</a></h2>
<p></p>
<p>
tex2page 是用来把 T<small>E</small>X 文档转化成 HTML 的工具，所以它支持
HTML 的很多特性，比如外部 URL 链接，tag 定位, CSS
样式表等等。</p>
<p>
由于 HTML 与 T<small>E</small>X 的不同点，tex2page 缺少 T<small>E</small>X 
宏语言的某些 高级功能。但是这些功能是一般 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">用户在日常文档处理中遇不到的，只有样式设计者才能遇到。
而且关于这一点，Dorai 和我已经共同努力使得普通人能用到的
T<small>E</small>X 底层命令都能正常工作。如果你有兴趣可以看看第
<a href="intro-Z-H-19.html#node_chap_18">18</a> 章。</p>
<p>
如果你需要更加强大的语言支持，你可以在文档里使用嵌入的
Scheme.  Scheme 语言比 T<small>E</small>X的宏语言还要方便强大的多。
如何使用嵌入的 Scheme，请参考第 <a href="intro-Z-H-14.html#node_chap_13">13</a> 章。</p>
<p>
其实 tex2page 可以轻松支持下面这段有点难度的 T<small>E</small>X宏。</p>
<p>
</p>
<pre class=verbatim>\def\x{\a}
\def\a{a\def\x{\b}}
\def\b{b\def\x{\c}}
\def\c{c\def\x{\a}}
\x\x\x\x\x</pre><p></p>
<p>



</p>
<p>
得到的输出是： abcab.</p>
<p>
我自己定义了一个宏 <a name="node_idx_10"></a> <code class=verbatim>\ic</code>，它可以把命令以命令本身
的样子加入索引但是却按命令第一个字母排序。</p>
<p>
</p>
<pre class=verbatim>\def\gobble#1{}
\def\ic#1{\expandafter\expandafter\expandafter%
\index\expandafter\expandafter\expandafter{%
\expandafter\gobble\string#<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0c3d4c">[email&#160;protected]</a>\verb{#1}}}
</pre><p></p>
<p>
比如 <code class=verbatim>\ic{\section}</code> 会展开成
<code class=verbatim>\index{<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="afdccaccdbc6c0c1ef">[email&#160;protected]</a>\p{\section}}</code>。 这样你会在索引里 <q>S</q>
开头的字母那组看到 <code class=verbatim>\section</code>，而不 是在反斜杠开头那组。</p>
<p>
当然你可以直接打
<code class=verbatim>\index{<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fa899f998e939594ba">[email&#160;protected]</a>\p{\section}}</code>，但是我定义了
这个宏就可以少按很多键盘。</p>
<p>
你可能从来没用过 <code class=verbatim>\expandafter</code>, <code class=verbatim>\csname</code>,
<code class=verbatim>\endcsname</code> 之类的高级 T<small>E</small>X命令吧。这些 tex2page
都支持！</p>
<p>
</p>
<a name="node_sec_1.4"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_1.4">1.4&nbsp;&nbsp;tex2page 的成功案例</a></h2>
<p><a name="node_idx_12"></a></p>
<p>
你可能不太相信这个小玩艺儿可以处理你的大作？其实已经有很多人
开始使用它。</p>
<p>
其中成功的例子包括 </p>
<p>
Harold Abelson and Gerald Jay Sussman 的大作
<q>Structure and Interpretation of Computer Programs</q></p>
<p>
<a href="https://mitpress.mit.edu/sicp/full-text/book/book.html">http://mitpress.mit.edu/sicp/full-text/book/book.html</a></p>
<p>
MIT Press 的教科书 <q>How to design programs</q></p>
<p>
<a href="http://www.htdp.org/">http://www.htdp.org/</a></p>
<p>
还有 PLT 小组的几乎所有 manual</p>
<p>
<a href="http://www.plt-scheme.org/">http://www.plt-scheme.org/</a></p>
<p>
</p>
<a name="node_sec_1.5"></a>
<h2><a href="intro-Z-H-1.html#node_toc_node_sec_1.5">1.5&nbsp;&nbsp;需要注意的问题</a></h2>
<p>tex2page 的语法分析基本上不依赖于 T<small>E</small>X，不过它需要 T<small>E</small>X来处理数学公式 等东西。所以你的系统必须配置好 T<small>E</small>X.</p>
<p>
另外 tex2page 不能理解所有的 T<small>E</small>X宏指令，所以如果你有一个很
奇特的 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">宏包，里面提供了非常炫的功能，你别想让 HTML 也
具有这种功能。</p>
<p>
所以你必须按照 <img src="intro-Z-G-D-1.png" border="0" alt="[intro-Z-G-D-1.png]">对于作者的要求，把文档格式于样式分开。
不要在文档里固定太多的样式。这样你的文档才具有灵活性。</p>
<p>
tex2page 生成的 HTML 可以变得非常漂亮。因为它可以利用 CSS 和
Scheme 的强大力量。所以你不用担心它的能力。</p>
<p>
这个手册的浮动导航栏，浮动章节号，和所有中文的“目录”，“第
x 章”的字样，本来 tex2page 是不支持的，但是作者看了 tex2page
的代码 2 个小时之后就解决了中文的问题。可见 Scheme 语言表达
能力之清晰！</p>
<p>
现在 Dorai 采纳了 我的建议，这些功能已经加入 tex2page 正式版
本。包括一个 chinese.t2p 文件，只要插入它就可以把所有章节标
题，日期，数字全都用中文显示。只要在你的 T<small>E</small>X或者 t2p 文件里
加入:</p>
<p>
<code class=verbatim>\input chinese.t2p </code></p>
<p>
就行了。</p>
<p>
</p>
<div align=right class=navigation><i>[<span><a href="intro.html">首页</a>, <a href="intro-Z-H-1.html">上一页</a></span><span>, <a href="intro-Z-H-3.html">下一页</a></span><span>; &nbsp;&nbsp;</span><span><a href="intro-Z-H-1.html#node_toc_start">目录 </a></span><span><span>; &nbsp;&nbsp;</span><a href="intro-Z-H-21.html#node_index_start"> 索引 </a></span>]</i></div>
<p></p>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
</html>

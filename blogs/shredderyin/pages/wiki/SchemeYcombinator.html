<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <title>Y Combinator 的 Scheme 实现</title>
    <meta name="generator" content="emacs-wiki.el">
    <meta http-equiv="Content-Type"
	  content="text/html; charset=gb2312">
    <link rev="made" href="mailto:webmaster@wangyin.com">
    <link rel="home" href="WelcomePage.html">
    <link rel="index" href="WikiIndex.html">
    <LINK rel="stylesheet" href="../main.css" media="screen">
  </head>
  <body>
    <h1>Y Combinator 的 Scheme 实现</h1>
    <!-- Page published by Emacs Wiki begins here -->






<h2>什么是 Y Combinator?</h2>

<p>
用 Scheme 的观点来看，Y 就是这样一个操作符，它作用于任何一个
(接受一个函数作为参数的) 函数 F，就会返回一个函数 X。再把 F 
作用于这个函数 X，还是得到 X。所以 X 被叫做 F 的不动点(fixed
point)。

</p>

<p>
所以我们常常见到 "(Y F) = (F (Y F))" 这种说法。比如在这里：

</p>

<p>
<img src="../images/scheme_shield.png" alt="../images/scheme_shield.png">

</p>

<p>
…… 为了防止误人子弟，你最好先找本 Lambda Calculus 的书来看
看。Lambda calculas 里的 Y Conbinator 要广泛的多。F 不一定只
接受一个函数作为参数。Fixed point 不但可以是函数，还可以是任
何 lambda term。

</p>

<p>
因为Scheme 是一种实际的语言，跟纯粹的理论还是有一定差距。如
果要完全实验 lambda calculas, 最好使用一些专用的 lambda 计算
器。比如：<a href="http://okmij.org/ftp/Computation/lambda-calc.html">http://okmij.org/ftp/Computation/lambda-calc.html</a>
就有多种语言实现的 lambda 计算器。

</p>

<p>
在 Scheme 里，通常 Y Combinator 是用来实现一些很 hack 的编程
技巧，用来定义“没有名字的递归”。

</p>

<h2>用 Scheme 来定义 Y Combinator</h2>

<pre class="example">(define Y
  (lambda (F)
    (let ((W (lambda (x) 
               (F (lambda arg (apply (x x) arg))))))
      (W W))))
</pre>

<p>
看起来很像讲 lambda calculas 的书里的定义。

</p>

<h2>测试</h2>

<p>
我们先定义一个函数 F*，它的不动点是一个 factorial 函数。

</p>

<pre class="example">(define F*
  (lambda (func-arg)
    (lambda (n)
      (if (zero? n)
          1
          (* n (func-arg (- n 1)))))))
</pre>

<p>
然后运行：

</p>

<pre class="example">((Y F*) 5)
</pre>

<p>
得到 120. 再运行：

</p>

<pre class="example">((F* (Y F*)) 5)
</pre>

<p>
结果还是 120。这说明我们的定义正确。

</p>

<h2>参考资料</h2>

<p>
Franco 教授的网页

</p>

<p>
<a href="http://www.ece.uc.edu/~franco/C511/html/Scheme/ycomb.html">http://www.ece.uc.edu/~franco/C511/html/Scheme/ycomb.html</a>

</p>

<p>
叙述了这个 Y Combinator 的定义是怎样一步一步写出来的，非常启
发人的思维。看了这些推导，你可能就体会到当初 Fixed Point
Theorem 是怎么想出来的。

</p>

<p>
不过他的定义有一个问题，那就是按照他原来的定义，不动点函数只
能接受一个参数。

</p>

<!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
    <hr>
      <table width="100%" border="0" summary="Footer navigation">
	<tr>
	  <td width="33%" align="left">
	    <span class="footdate">最后更新：2003-08-01</span>
	  </td>
	  <td width="60%" align="center">
	    <span class="foothome">
	      <a href="../index.html">王垠的主页</a> / <a href="WelcomePage.html">WiKi首页</a>/<a href="WikiIndex.html">索引</a>/<a href="wiki_frame.html" target=_parent>框架页</a>/<a href="SchemeYcombinator.html" target=_parent>取消框架</a>
	    </span>
	  </td>
	  <td width="33%" align="right">
	    
	  </td>
	</tr>
      </table>
    </div>


  </body>
</html>

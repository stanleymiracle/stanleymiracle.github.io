<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
  <head>
    <title>Quote Quasiquote</title>
    <meta name="generator" content="emacs-wiki.el">
    <meta http-equiv="Content-Type"
	  content="text/html; charset=utf-8">
    <link rev="made" href="mailto:webmaster@wangyin.com">
    <link rel="home" href="WelcomePage.html">
    <link rel="index" href="WikiIndex.html">
    <LINK rel="stylesheet" href="../main.css" media="screen">
  </head>
  <body>
    <h1>Quote Quasiquote</h1>
    <!-- Page published by Emacs Wiki begins here -->






<h2>区别</h2>

<p>
quote 和 quosiquote 不但有语法上的区别，而且有运行上的区别。

</p>

<p>
quote 是在编译时执行的，而 quosiquote 是在运行时执行的。也就
是说你的输入一旦被解释器读到，quote 的内容就已经被创建了。所
以，

</p>

<pre class="example">(define (f)
  '(a b c))

(eq? (f) (f))
</pre>

<p>
会返回 #t.

</p>

<p>
而 

</p>

<pre class="example">(define (bogus-function x)
  (let
      ((result '(nil nil)))     ;Static list which is filled in each time
    (set-car! (cdr result) x)     ; the function is called
    result))

(define x (bogus-function 'foo))
(define y (bogus-function 'bar))
</pre>

<p>
之后，x 的值是 '(nil bar). 这是因为 quote 在 bogus-function
被定义时就已经定义了。反复运行 bogus-function 并不会返回不同
的结构。

</p>

<p>
比较一下下面这个例子：

</p>

<pre class="example">(define (f)
  `(a b c))

(eq? (f) (f))
</pre>

<p>
结果是 #f. 说明 两次对 f 的调用返回了不同的 (a b c). 说明
quosiquote 是在运行时执行的。
</p><!-- Page published by Emacs Wiki ends here -->
    <div class="navfoot">
    <hr>
      <table width="100%" border="0" summary="Footer navigation">
	<tr>
	  <td width="33%" align="left">
	    <span class="footdate">最后更新：2003-06-16</span>
	  </td>
	  <td width="60%" align="center">
	    <span class="foothome">
	      <a href="../index.html">主页</a> / <a href="WelcomePage.html">WiKi首页</a>/<a href="WikiIndex.html">索引</a>/<a href="wiki_frame.html" target=_parent>框架页</a>/<a href="QuoteQuasiquote.html" target=_parent>取消框架</a>
	    </span>
	  </td>
	  <td width="33%" align="right">
	    
	  </td>
	</tr>
      </table>
    </div>


  </body>
</html>

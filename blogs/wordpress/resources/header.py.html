
<!-- saved from url=(0068)http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html -->
<html><head title="/Users/yinwang/Code/cpython/Lib/email/header.py"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px white;
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px dotted orange;}</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width="100%" border="1px solid gray"><tbody><tr><td valign="top"><ul>
<li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_re&quot;)"><span class="identifier">re</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.__all__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header___all__&quot;)"><span class="identifier">__all__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email&quot;)"><span class="identifier">email</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Charset&quot;)"><span class="identifier">Charset</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.NL" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_NL&quot;)"><span class="identifier">NL</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_SPACE&quot;)"><span class="identifier">SPACE</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.BSPACE" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_BSPACE&quot;)"><span class="identifier">BSPACE</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE8" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_SPACE8&quot;)"><span class="identifier">SPACE8</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_EMPTYSTRING&quot;)"><span class="identifier">EMPTYSTRING</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.MAXLINELEN" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_MAXLINELEN&quot;)"><span class="identifier">MAXLINELEN</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.FWS" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_FWS&quot;)"><span class="identifier">FWS</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.USASCII" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_USASCII&quot;)"><span class="identifier">USASCII</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.UTF8" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_UTF8&quot;)"><span class="identifier">UTF8</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.ecre" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_ecre&quot;)"><span class="identifier">ecre</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.fcre" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_fcre&quot;)"><span class="identifier">fcre</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._embeded_header" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__embeded_header&quot;)"><span class="identifier">_embeded_header</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._max_append" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__max_append&quot;)"><span class="identifier">_max_append</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_decode_header&quot;)"><span class="function">decode_header</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_make_header&quot;)"><span class="function">make_header</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header&quot;)"><span class="type-name">Header</span></a><ul>
<li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header___init__&quot;)"><span class="function">__init__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header___str__&quot;)"><span class="function">__str__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header___eq__&quot;)"><span class="function">__eq__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header___ne__&quot;)"><span class="function">__ne__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header_append&quot;)"><span class="function">append</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header__nonctext&quot;)"><span class="function">_nonctext</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header_encode&quot;)"><span class="function">encode</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header_Header__normalize&quot;)"><span class="function">_normalize</span></a></li></ul>
</li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter&quot;)"><span class="type-name">_ValueFormatter</span></a><ul>
<li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter___init__&quot;)"><span class="function">__init__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter__str&quot;)"><span class="function">_str</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter___str__&quot;)"><span class="function">__str__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter_newline&quot;)"><span class="function">newline</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter_add_transition&quot;)"><span class="function">add_transition</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter_feed&quot;)"><span class="function">feed</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter__maxlengths&quot;)"><span class="function">_maxlengths</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter__ascii_split&quot;)"><span class="function">_ascii_split</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__ValueFormatter__append_chunk&quot;)"><span class="function">_append_chunk</span></a></li></ul>
</li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator&quot;)"><span class="type-name">_Accumulator</span></a><ul>
<li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator___init__&quot;)"><span class="function">__init__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_push&quot;)"><span class="function">push</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_pop_from&quot;)"><span class="function">pop_from</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_pop&quot;)"><span class="function">pop</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator___len__&quot;)"><span class="function">__len__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator___str__&quot;)"><span class="function">__str__</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_reset&quot;)"><span class="function">reset</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_is_onlyws&quot;)"><span class="function">is_onlyws</span></a></li><li><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" ,="" onmouseover="highlight(&quot;_Users_yinwang_Code_cpython_Lib_email_header__Accumulator_part_count&quot;)"><span class="function">part_count</span></a></li></ul>
</li></ul>
</td><td><pre><span class="lineno">   1</span> <a href="http://www.yinwang.org/resources/demos/pysonar2/email/errors.py.html#.Users.yinwang.Code.cpython.Lib.email.errors.HeaderParseError" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.errors.HeaderParseError" title="&lt;HeaderParseError&gt;"></a># Copyright (C) 2002-2007 Python Software Foundation
<span class="lineno">   2</span> # Author: Ben Gertzfield, Barry Warsaw
<span class="lineno">   3</span> # Contact: email-sig@python.org
<span class="lineno">   4</span> 
<span class="lineno">   5</span> """Header encoding and decoding functionality."""
<span class="lineno">   6</span> 
<span class="lineno">   7</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.__all__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.__all__" title="[str]">__all__</a> = [
<span class="lineno">   8</span>     'Header',
<span class="lineno">   9</span>     'decode_header',
<span class="lineno">  10</span>     'make_header',
<span class="lineno">  11</span>     ]
<span class="lineno">  12</span> 
<span class="lineno">  13</span> import re
<span class="lineno">  14</span> import binascii
<span class="lineno">  15</span> 
<span class="lineno">  16</span> import email.quoprimime
<span class="lineno">  17</span> import email.base64mime
<span class="lineno">  18</span> 
<span class="lineno">  19</span> from <a name=".Users.yinwang.Code.cpython.Lib.email" ,="" xid=".Users.yinwang.Code.cpython.Lib.email" title="email">email</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.errors" title="errors">errors</a> import HeaderParseError
<span class="lineno">  20</span> from <a name=".Users.yinwang.Code.cpython.Lib.email" ,="" xid=".Users.yinwang.Code.cpython.Lib.email" title="email">email</a> import charset as _charset
<span class="lineno">  21</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset" title="charset">_charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.Charset" title="&lt;Charset&gt;">Charset</a>
<span class="lineno">  22</span> 
<span class="lineno">  23</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.NL" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.NL" title="str">NL</a> = '\n'
<span class="lineno">  24</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" title="str">SPACE</a> = ' '
<span class="lineno">  25</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.BSPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.BSPACE" title="str">BSPACE</a> = b' '
<span class="lineno">  26</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.SPACE8" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE8" title="str">SPACE8</a> = ' ' * 8
<span class="lineno">  27</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" title="str">EMPTYSTRING</a> = ''
<span class="lineno">  28</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.MAXLINELEN" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.MAXLINELEN" title="int">MAXLINELEN</a> = 78
<span class="lineno">  29</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.FWS" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.FWS" title="str">FWS</a> = ' \t'
<span class="lineno">  30</span> 
<span class="lineno">  31</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.USASCII" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.USASCII" title="Charset">USASCII</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>('us-ascii')
<span class="lineno">  32</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.UTF8" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.UTF8" title="Charset">UTF8</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>('utf-8')
<span class="lineno">  33</span> 
<span class="lineno">  34</span> # Match encoded-word strings in the form =?charset?q?Hello_World?=
<span class="lineno">  35</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.ecre" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.ecre" title="str">ecre</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.compile" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.compile" title="(my_unicode, int) -&gt; ? | (str, int) -&gt; str">compile</a>(r'''
<span class="lineno">  36</span>   =\?                   # literal =?
<span class="lineno">  37</span>   (?P&lt;charset&gt;[^?]*?)   # non-greedy up to the next ? is the charset
<span class="lineno">  38</span>   \?                    # literal ?
<span class="lineno">  39</span>   (?P&lt;encoding&gt;[qb])    # either a "q" or a "b", case insensitive
<span class="lineno">  40</span>   \?                    # literal ?
<span class="lineno">  41</span>   (?P&lt;encoded&gt;.*?)      # non-greedy up to the next ?= is the encoded string
<span class="lineno">  42</span>   \?=                   # literal ?=
<span class="lineno">  43</span>   ''', <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.VERBOSE" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.VERBOSE" title="int">VERBOSE</a> | <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.IGNORECASE" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.IGNORECASE" title="int">IGNORECASE</a> | <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.MULTILINE" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.MULTILINE" title="int">MULTILINE</a>)
<span class="lineno">  44</span> 
<span class="lineno">  45</span> # Field name regexp, including trailing colon, but not separating whitespace,
<span class="lineno">  46</span> # according to RFC 2822.  Character range is from tilde to exclamation mark.
<span class="lineno">  47</span> # For use with .match()
<span class="lineno">  48</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header.fcre" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.fcre" title="str">fcre</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.compile" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.compile" title="(my_unicode, int) -&gt; ? | (str, int) -&gt; str">compile</a>(r'[\041-\176]+:$')
<span class="lineno">  49</span> 
<span class="lineno">  50</span> # Find a header embedded in a putative header value.  Used to check for
<span class="lineno">  51</span> # header injection attack.
<span class="lineno">  52</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header._embeded_header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._embeded_header" title="str">_embeded_header</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.compile" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.compile" title="(my_unicode, int) -&gt; ? | (str, int) -&gt; str">compile</a>(r'\n[^ \t]+:')
<span class="lineno">  53</span> 
<span class="lineno">  54</span> 
<span class="lineno">  55</span> 
<span class="lineno">  56</span> # Helpers
<span class="lineno">  57</span> <a name=".Users.yinwang.Code.cpython.Lib.email.header._max_append" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._max_append" title="(?, ?, ?, str) -&gt; None">_max_append</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/__init__.py.html#.Users.yinwang.Code.cpython.Lib.email" ,="" xid=".Users.yinwang.Code.cpython.Lib.email" title="email">email</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/quoprimime.py.html#.Users.yinwang.Code.cpython.Lib.email.quoprimime" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.quoprimime" title="quoprimime">quoprimime</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/quoprimime.py.html#.Users.yinwang.Code.cpython.Lib.email.quoprimime._max_append" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.quoprimime._max_append" title="(?, ?, ?, str) -&gt; None">_max_append</a>
<span class="lineno">  58</span> 
<span class="lineno">  59</span> 
<span class="lineno">  60</span> 
<span class="lineno">  61</span> def <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header" title="Header -&gt; [(?, str)] | str -&gt; [(?, str)]">decode_header</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>):
<span class="lineno">  62</span>     """Decode a message header value without converting charset.
<span class="lineno">  63</span> 
<span class="lineno">  64</span>     Returns a list of (string, charset) pairs containing each of the decoded
<span class="lineno">  65</span>     parts of the header.  Charset is None for non-encoded parts of the header,
<span class="lineno">  66</span>     otherwise a lower-case string containing the name of the character set
<span class="lineno">  67</span>     specified in the encoded string.
<span class="lineno">  68</span> 
<span class="lineno">  69</span>     header may be a string that may or may not contain RFC2047 encoded words,
<span class="lineno">  70</span>     or it may be a Header object.
<span class="lineno">  71</span> 
<span class="lineno">  72</span>     An email.errors.HeaderParseError may be raised when certain decoding error
<span class="lineno">  73</span>     occurs (e.g. a base64 decoding exception).
<span class="lineno">  74</span>     """
<span class="lineno">  75</span>     # If it is a Header object, we can just return the encoded chunks.
<span class="lineno">  76</span>     if hasattr(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>, '_chunks'):
<span class="lineno">  77</span>         return [(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset" title="charset">_charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset._encode" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset._encode" title="(str, str) -&gt; str">_encode</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" title="?">string</a>, str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>)), str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>))
<span class="lineno">  78</span>                     for <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" title="?"></a><a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="[?]">_chunks</a>]
<span class="lineno">  79</span>     # If no encoding, just return the header with no charset.
<span class="lineno">  80</span>     if not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.ecre" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.ecre" title="str">ecre</a>.search(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>):
<span class="lineno">  81</span>         return [(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>, None)]
<span class="lineno">  82</span>     # First step is to parse all the encoded parts into triplets of the form
<span class="lineno">  83</span>     # (encoded_string, encoding, charset).  For unencoded strings, the last
<span class="lineno">  84</span>     # two parts will be None.
<span class="lineno">  85</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a> = []
<span class="lineno">  86</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.line" title="?">line</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.header" title="?">header</a>.splitlines():
<span class="lineno">  87</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.ecre" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.ecre" title="str">ecre</a>.split(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.line" title="?">line</a>)
<span class="lineno">  88</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" title="bool">first</a> = True
<span class="lineno">  89</span>         while <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>:
<span class="lineno">  90</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" title="None">unencoded</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>.pop(0)
<span class="lineno">  91</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" title="bool">first</a>:
<span class="lineno">  92</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" title="?">unencoded</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" title="None">unencoded</a>.lstrip()
<span class="lineno">  93</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.first" title="bool">first</a> = False
<span class="lineno">  94</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" title="?">unencoded</a>:
<span class="lineno">  95</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.unencoded" title="?">unencoded</a>, None, None))
<span class="lineno">  96</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>:
<span class="lineno">  97</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>.pop(0).lower()
<span class="lineno">  98</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>.pop(0).lower()
<span class="lineno">  99</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded" title="None">encoded</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.parts" title="[{[?] | str | list}]">parts</a>.pop(0)
<span class="lineno"> 100</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded" title="None">encoded</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>))
<span class="lineno"> 101</span>     # Now loop over words and remove words that consist of whitespace
<span class="lineno"> 102</span>     # between two encoded strings.
<span class="lineno"> 103</span>     import sys
<span class="lineno"> 104</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" title="[?]">droplist</a> = []
<span class="lineno"> 105</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" title="?">n</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.w" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.w" title="?">w</a> in enumerate(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>):
<span class="lineno"> 106</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" title="?">n</a>&gt;1 and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.w" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.w" title="?">w</a>[1] and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" title="?">n</a>-2][1] and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" title="?">n</a>-1][0].isspace():
<span class="lineno"> 107</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" title="[?]">droplist</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.n" title="?">n</a>-1)
<span class="lineno"> 108</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.d" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.d" title="?">d</a> in reversed(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.droplist" title="[?]">droplist</a>):
<span class="lineno"> 109</span>         del <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.d" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.d" title="?">d</a>]
<span class="lineno"> 110</span> 
<span class="lineno"> 111</span>     # The next step is to decode each encoded word by applying the reverse
<span class="lineno"> 112</span>     # base64 or quopri transformation.  decoded_words is now a list of the
<span class="lineno"> 113</span>     # form (decoded_word, charset).
<span class="lineno"> 114</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" title="[?]">decoded_words</a> = []
<span class="lineno"> 115</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="?">encoded_string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.words" title="[?]">words</a>:
<span class="lineno"> 116</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a> is None:
<span class="lineno"> 117</span>             # This is an unencoded word.
<span class="lineno"> 118</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" title="[?]">decoded_words</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="?">encoded_string</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>))
<span class="lineno"> 119</span>         elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a> == 'q':
<span class="lineno"> 120</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/__init__.py.html#.Users.yinwang.Code.cpython.Lib.email" ,="" xid=".Users.yinwang.Code.cpython.Lib.email" title="email">email</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/quoprimime.py.html#.Users.yinwang.Code.cpython.Lib.email.quoprimime" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.quoprimime" title="quoprimime">quoprimime</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/quoprimime.py.html#.Users.yinwang.Code.cpython.Lib.email.quoprimime.header_decode" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.quoprimime.header_decode" title="str -&gt; ?">header_decode</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="?">encoded_string</a>)
<span class="lineno"> 121</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" title="[?]">decoded_words</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>))
<span class="lineno"> 122</span>         elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoding" title="?">encoding</a> == 'b':
<span class="lineno"> 123</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" title="int">paderr</a> = len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="?">encoded_string</a>) % 4   # Postel's law: add missing padding
<span class="lineno"> 124</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" title="int">paderr</a>:
<span class="lineno"> 125</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="?"></a><a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="str">encoded_string</a> += '==='[:4 - <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.paderr" title="int">paderr</a>]
<span class="lineno"> 126</span>             try:
<span class="lineno"> 127</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="str">word</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/__init__.py.html#.Users.yinwang.Code.cpython.Lib.email" ,="" xid=".Users.yinwang.Code.cpython.Lib.email" title="email">email</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/base64mime.py.html#.Users.yinwang.Code.cpython.Lib.email.base64mime" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.base64mime" title="{base64mime | base64mime}">base64mime</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/base64mime.py.html#.Users.yinwang.Code.cpython.Lib.email.base64mime.decode" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.base64mime.decode" title="str -&gt; str">decode</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.encoded_string" title="str">encoded_string</a>)
<span class="lineno"> 128</span>             except binascii.Error:
<span class="lineno"> 129</span>                 raise HeaderParseError('Base64 decoding error')
<span class="lineno"> 130</span>             else:
<span class="lineno"> 131</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" title="[?]">decoded_words</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="str">word</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>))
<span class="lineno"> 132</span>         else:
<span class="lineno"> 133</span>             raise AssertionError('Unexpected encoding: ' + encoding)
<span class="lineno"> 134</span>     # Now convert all words to bytes and collapse consecutive runs of
<span class="lineno"> 135</span>     # similarly encoded words.
<span class="lineno"> 136</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" title="[?]">collapsed</a> = []
<span class="lineno"> 137</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None">last_word</a> = <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="None"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="None">last_charset</a> = None
<span class="lineno"> 138</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.decoded_words" title="[?]">decoded_words</a>:
<span class="lineno"> 139</span>         if isinstance(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>, str):
<span class="lineno"> 140</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a> = bytes(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>, 'raw-unicode-escape')
<span class="lineno"> 141</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None">last_word</a> is None:
<span class="lineno"> 142</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="?">last_word</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>
<span class="lineno"> 143</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="?">last_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>
<span class="lineno"> 144</span>         elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a> != <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="None">last_charset</a>:
<span class="lineno"> 145</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" title="[?]">collapsed</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None">last_word</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="None">last_charset</a>))
<span class="lineno"> 146</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="?">last_word</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>
<span class="lineno"> 147</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="?">last_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.charset" title="?">charset</a>
<span class="lineno"> 148</span>         elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="None">last_charset</a> is None:
<span class="lineno"> 149</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None"></a><a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="str">last_word</a> += <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.BSPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.BSPACE" title="str">BSPACE</a> + <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>
<span class="lineno"> 150</span>         else:
<span class="lineno"> 151</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="None">last_word</a> += <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.word" title="?">word</a>
<span class="lineno"> 152</span>     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" title="[?]">collapsed</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_word" title="{? | ? | str | None}">last_word</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.last_charset" title="{? | ? | None}">last_charset</a>))
<span class="lineno"> 153</span>     return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.decode_header.collapsed" title="[?]">collapsed</a>
<span class="lineno"> 154</span> 
<span class="lineno"> 155</span> 
<span class="lineno"> 156</span> 
<span class="lineno"> 157</span> def <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header" title="([(?, str)], None, None, str) -&gt; Header">make_header</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.decoded_seq" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.decoded_seq" title="?">decoded_seq</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.maxlinelen" title="None">maxlinelen</a>=None, <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.header_name" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.header_name" title="None">header_name</a>=None,
<span class="lineno"> 158</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.continuation_ws" title="str">continuation_ws</a>=' '):
<span class="lineno"> 159</span>     """Create a Header from a sequence of pairs as returned by decode_header()
<span class="lineno"> 160</span> 
<span class="lineno"> 161</span>     decode_header() takes a header value string and returns a sequence of
<span class="lineno"> 162</span>     pairs of the format (decoded_string, charset) where charset is the string
<span class="lineno"> 163</span>     name of the character set.
<span class="lineno"> 164</span> 
<span class="lineno"> 165</span>     This function takes one of those sequence of pairs and returns a Header
<span class="lineno"> 166</span>     instance.  Optional maxlinelen, header_name, and continuation_ws are as in
<span class="lineno"> 167</span>     the Header constructor.
<span class="lineno"> 168</span>     """
<span class="lineno"> 169</span>     <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.h" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.h" title="Header">h</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header" title="&lt;Header&gt;">Header</a>(maxlinelen=<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.maxlinelen" title="None">maxlinelen</a>, header_name=<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.header_name" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.header_name" title="None">header_name</a>,
<span class="lineno"> 170</span>                continuation_ws=<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.continuation_ws" title="str">continuation_ws</a>)
<span class="lineno"> 171</span>     for <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.s" title="?">s</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.decoded_seq" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.decoded_seq" title="?">decoded_seq</a>:
<span class="lineno"> 172</span>         # None means us-ascii but we can simply pass it on to h.append()
<span class="lineno"> 173</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="?">charset</a> is not None and not isinstance(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="?">charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>):
<span class="lineno"> 174</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="?">charset</a>)
<span class="lineno"> 175</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.h" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.h" title="Header">h</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append" title="(Header, str, Charset, str) -&gt; {? | None} | (Header, str, str, str) -&gt; {? | None}">append</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.s" title="?">s</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.charset" title="Charset">charset</a>)
<span class="lineno"> 176</span>     return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.make_header.h" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.make_header.h" title="Header">h</a>
<span class="lineno"> 177</span> 
<span class="lineno"> 178</span> 
<span class="lineno"> 179</span> 
<span class="lineno"> 180</span> class <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header" title="&lt;Header&gt;">Header</a>:
<span class="lineno"> 181</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__" title="(Header, str, Charset, None, None, str, str) -&gt; None | (Header, str, str, None, None, str, str) -&gt; None">__init__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" title="?">s</a>=None, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="None">charset</a>=None,
<span class="lineno"> 182</span>                  <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" title="None">maxlinelen</a>=None, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" title="None">header_name</a>=None,
<span class="lineno"> 183</span>                  <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.continuation_ws" title="str">continuation_ws</a>=' ', <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.errors" title="str">errors</a>='strict'):
<span class="lineno"> 184</span>         """Create a MIME-compliant header that can contain many character sets.
<span class="lineno"> 185</span> 
<span class="lineno"> 186</span>         Optional s is the initial header value.  If None, the initial header
<span class="lineno"> 187</span>         value is not set.  You can later append to the header with .append()
<span class="lineno"> 188</span>         method calls.  s may be a byte string or a Unicode string, but see the
<span class="lineno"> 189</span>         .append() documentation for semantics.
<span class="lineno"> 190</span> 
<span class="lineno"> 191</span>         Optional charset serves two purposes: it has the same meaning as the
<span class="lineno"> 192</span>         charset argument to the .append() method.  It also sets the default
<span class="lineno"> 193</span>         character set for all subsequent .append() calls that omit the charset
<span class="lineno"> 194</span>         argument.  If charset is not provided in the constructor, the us-ascii
<span class="lineno"> 195</span>         charset is used both as s's initial charset and as the default for
<span class="lineno"> 196</span>         subsequent .append() calls.
<span class="lineno"> 197</span> 
<span class="lineno"> 198</span>         The maximum line length can be specified explicitly via maxlinelen. For
<span class="lineno"> 199</span>         splitting the first line to a shorter value (to account for the field
<span class="lineno"> 200</span>         header which isn't included in s, e.g. `Subject') pass in the name of
<span class="lineno"> 201</span>         the field in header_name.  The default maxlinelen is 78 as recommended
<span class="lineno"> 202</span>         by RFC 2822.
<span class="lineno"> 203</span> 
<span class="lineno"> 204</span>         continuation_ws must be RFC 2822 compliant folding whitespace (usually
<span class="lineno"> 205</span>         either a space or a hard tab) which will be prepended to continuation
<span class="lineno"> 206</span>         lines.
<span class="lineno"> 207</span> 
<span class="lineno"> 208</span>         errors is passed through to the .append() call.
<span class="lineno"> 209</span>         """
<span class="lineno"> 210</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="None">charset</a> is None:
<span class="lineno"> 211</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.USASCII" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.USASCII" title="Charset">USASCII</a>
<span class="lineno"> 212</span>         elif not isinstance(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="None">charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>):
<span class="lineno"> 213</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="None">charset</a>)
<span class="lineno"> 214</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._charset" title="Charset">_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="{Charset | Charset}">charset</a>
<span class="lineno"> 215</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" title="str">_continuation_ws</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.continuation_ws" title="str">continuation_ws</a>
<span class="lineno"> 216</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="[?]">_chunks</a> = []
<span class="lineno"> 217</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" title="?">s</a> is not None:
<span class="lineno"> 218</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append" title="(Header, str, Charset, str) -&gt; {? | None} | (Header, str, str, str) -&gt; {? | None}">append</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.s" title="?">s</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.charset" title="{Charset | Charset}">charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.errors" title="str">errors</a>)
<span class="lineno"> 219</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" title="None">maxlinelen</a> is None:
<span class="lineno"> 220</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" title="int">maxlinelen</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.MAXLINELEN" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.MAXLINELEN" title="int">MAXLINELEN</a>
<span class="lineno"> 221</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._maxlinelen" title="int">_maxlinelen</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.maxlinelen" title="int">maxlinelen</a>
<span class="lineno"> 222</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" title="None">header_name</a> is None:
<span class="lineno"> 223</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" title="int">_headerlen</a> = 0
<span class="lineno"> 224</span>         else:
<span class="lineno"> 225</span>             # Take the separating colon and space into account.
<span class="lineno"> 226</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" title="int">_headerlen</a> = len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__init__.header_name" title="None">header_name</a>) + 2
<span class="lineno"> 227</span> 
<span class="lineno"> 228</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__" title="Header -&gt; str">__str__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" title="Header">self</a>):
<span class="lineno"> 229</span>         """Return the string value of the header."""
<span class="lineno"> 230</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" title="Header -&gt; None">_normalize</a>()
<span class="lineno"> 231</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a> = []
<span class="lineno"> 232</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" title="None">lastcs</a> = None
<span class="lineno"> 233</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" title="None">lastspace</a> = None
<span class="lineno"> 234</span>         for <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="[?]">_chunks</a>:
<span class="lineno"> 235</span>             # We must preserve spaces between encoded and non-encoded word
<span class="lineno"> 236</span>             # boundaries, which means for us we need to add a space when we go
<span class="lineno"> 237</span>             # from a charset to None/us-ascii, or from None/us-ascii to a
<span class="lineno"> 238</span>             # charset.  Only do this for the second and subsequent chunks.
<span class="lineno"> 239</span>             # Don't add a space if the None/us-ascii string already has
<span class="lineno"> 240</span>             # a space (trailing or leading depending on transition)
<span class="lineno"> 241</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="?">nextcs</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.charset" title="?">charset</a>
<span class="lineno"> 242</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="?">nextcs</a> == <a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset" title="charset">_charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" title="str">UNKNOWN8BIT</a>:
<span class="lineno"> 243</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.original_bytes" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.original_bytes" title="?">original_bytes</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a>.encode('ascii', 'surrogateescape')
<span class="lineno"> 244</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.original_bytes" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.original_bytes" title="?">original_bytes</a>.decode('ascii', 'replace')
<span class="lineno"> 245</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a>:
<span class="lineno"> 246</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.hasspace" title="(str, str, str)">hasspace</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" title="(Header, ?) -&gt; (str, str, str)">_nonctext</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a>[0])
<span class="lineno"> 247</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" title="None">lastcs</a> not in (None, 'us-ascii'):
<span class="lineno"> 248</span>                     if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="?">nextcs</a> in (None, 'us-ascii') and not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.hasspace" title="(str, str, str)">hasspace</a>:
<span class="lineno"> 249</span>                         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" title="str">SPACE</a>)
<span class="lineno"> 250</span>                         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="None">nextcs</a> = None
<span class="lineno"> 251</span>                 elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="?">nextcs</a> not in (None, 'us-ascii') and not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" title="None">lastspace</a>:
<span class="lineno"> 252</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" title="str">SPACE</a>)
<span class="lineno"> 253</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastspace" title="(str, str, str)">lastspace</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" title="(Header, ?) -&gt; (str, str, str)">_nonctext</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a>[-1])
<span class="lineno"> 254</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.lastcs" title="None">lastcs</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.nextcs" title="{None | ?}">nextcs</a>
<span class="lineno"> 255</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.string" title="?">string</a>)
<span class="lineno"> 256</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" title="str">EMPTYSTRING</a>.join(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__str__.uchunks" title="[?]">uchunks</a>)
<span class="lineno"> 257</span> 
<span class="lineno"> 258</span>     # Rich comparison operators for equality only.  BAW: does it make sense to
<span class="lineno"> 259</span>     # have or explicitly disable &lt;, &lt;=, &gt;, &gt;= operators?
<span class="lineno"> 260</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__" title="(Header, ?) -&gt; str">__eq__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.other" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.other" title="?">other</a>):
<span class="lineno"> 261</span>         # other may be a Header or a string.  Both are fine so coerce
<span class="lineno"> 262</span>         # ourselves to a unicode (of the unencoded header value), swap the
<span class="lineno"> 263</span>         # args and do another comparison.
<span class="lineno"> 264</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.other" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.other" title="?">other</a> == str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__eq__.self" title="Header">self</a>)
<span class="lineno"> 265</span> 
<span class="lineno"> 266</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__" title="(Header, ?) -&gt; Header">__ne__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.other" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.other" title="?">other</a>):
<span class="lineno"> 267</span>         return not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.self" title="Header">self</a> == <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.other" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.__ne__.other" title="?">other</a>
<span class="lineno"> 268</span> 
<span class="lineno"> 269</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append" title="(Header, str, Charset, str) -&gt; {? | None} | (Header, str, str, str) -&gt; {? | None}">append</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a>=None, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" title="str">errors</a>='strict'):
<span class="lineno"> 270</span>         """Append a string to the MIME header.
<span class="lineno"> 271</span> 
<span class="lineno"> 272</span>         Optional charset, if given, should be a Charset instance or the name
<span class="lineno"> 273</span>         of a character set (which will be converted to a Charset instance).  A
<span class="lineno"> 274</span>         value of None (the default) means that the charset given in the
<span class="lineno"> 275</span>         constructor is used.
<span class="lineno"> 276</span> 
<span class="lineno"> 277</span>         s may be a byte string or a Unicode string.  If it is a byte string
<span class="lineno"> 278</span>         (i.e. isinstance(s, str) is false), then charset is the encoding of
<span class="lineno"> 279</span>         that byte string, and a UnicodeError will be raised if the string
<span class="lineno"> 280</span>         cannot be decoded with that charset.  If s is a Unicode string, then
<span class="lineno"> 281</span>         charset is a hint specifying the character set of the characters in
<span class="lineno"> 282</span>         the string.  In either case, when producing an RFC 2822 compliant
<span class="lineno"> 283</span>         header using RFC 2047 rules, the string will be encoded using the
<span class="lineno"> 284</span>         output codec of the charset.  If the string cannot be encoded to the
<span class="lineno"> 285</span>         output codec, a UnicodeError will be raised.
<span class="lineno"> 286</span> 
<span class="lineno"> 287</span>         Optional `errors' is passed as the errors argument to the decode
<span class="lineno"> 288</span>         call if s is a byte string.
<span class="lineno"> 289</span>         """
<span class="lineno"> 290</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a> is None:
<span class="lineno"> 291</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._charset" title="Charset">_charset</a>
<span class="lineno"> 292</span>         elif not isinstance(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>):
<span class="lineno"> 293</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Charset" title="&lt;Charset&gt;">Charset</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a>)
<span class="lineno"> 294</span>         if not isinstance(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a>, str):
<span class="lineno"> 295</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" title="str">input_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="{Charset | Charset}">charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.Charset.input_codec" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.Charset.input_codec" title="?">input_codec</a> or 'us-ascii'
<span class="lineno"> 296</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" title="str">input_charset</a> == <a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset" title="charset">_charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" title="str">UNKNOWN8BIT</a>:
<span class="lineno"> 297</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a>.decode('us-ascii', 'surrogateescape')
<span class="lineno"> 298</span>             else:
<span class="lineno"> 299</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="?">s</a>.decode(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.input_charset" title="str">input_charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" title="str">errors</a>)
<span class="lineno"> 300</span>         # Ensure that the bytes we're storing can be decoded to the output
<span class="lineno"> 301</span>         # character set, otherwise an early error is raised.
<span class="lineno"> 302</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" title="str">output_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="{Charset | Charset}">charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.Charset.output_codec" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.Charset.output_codec" title="?">output_codec</a> or 'us-ascii'
<span class="lineno"> 303</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" title="str">output_charset</a> != <a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset" title="charset">_charset</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/charset.py.html#.Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.charset.UNKNOWN8BIT" title="str">UNKNOWN8BIT</a>:
<span class="lineno"> 304</span>             try:
<span class="lineno"> 305</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="{? | ?}">s</a>.encode(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" title="str">output_charset</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.errors" title="str">errors</a>)
<span class="lineno"> 306</span>             except UnicodeEncodeError:
<span class="lineno"> 307</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.output_charset" title="str">output_charset</a>!='us-ascii':
<span class="lineno"> 308</span>                     raise
<span class="lineno"> 309</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.UTF8" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.UTF8" title="Charset">UTF8</a>
<span class="lineno"> 310</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="[?]">_chunks</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.s" title="{? | ?}">s</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.append.charset" title="Charset">charset</a>))
<span class="lineno"> 311</span> 
<span class="lineno"> 312</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" title="(Header, ?) -&gt; (str, str, str)">_nonctext</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" title="?">s</a>):
<span class="lineno"> 313</span>         """True if string s is not a ctext character of RFC822.
<span class="lineno"> 314</span>         """
<span class="lineno"> 315</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" title="?">s</a>.isspace() or <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext.s" title="?">s</a> in ('(', ')', '\\')
<span class="lineno"> 316</span> 
<span class="lineno"> 317</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode" title="(Header, str, None, str) -&gt; ? | (Header, str, None, str) -&gt; str">encode</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.splitchars" title="str">splitchars</a>=';, \t', <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="None">maxlinelen</a>=None, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.linesep" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.linesep" title="str">linesep</a>='\n'):
<span class="lineno"> 318</span>         r"""Encode a message header into an RFC-compliant format.
<span class="lineno"> 319</span> 
<span class="lineno"> 320</span>         There are many issues involved in converting a given string for use in
<span class="lineno"> 321</span>         an email header.  Only certain character sets are readable in most
<span class="lineno"> 322</span>         email clients, and as header strings can only contain a subset of
<span class="lineno"> 323</span>         7-bit ASCII, care must be taken to properly convert and encode (with
<span class="lineno"> 324</span>         Base64 or quoted-printable) header strings.  In addition, there is a
<span class="lineno"> 325</span>         75-character length limit on any given encoded header field, so
<span class="lineno"> 326</span>         line-wrapping must be performed, even with double-byte character sets.
<span class="lineno"> 327</span> 
<span class="lineno"> 328</span>         Optional maxlinelen specifies the maximum length of each generated
<span class="lineno"> 329</span>         line, exclusive of the linesep string.  Individual lines may be longer
<span class="lineno"> 330</span>         than maxlinelen if a folding point cannot be found.  The first line
<span class="lineno"> 331</span>         will be shorter by the length of the header name plus ": " if a header
<span class="lineno"> 332</span>         name was specified at Header construction time.  The default value for
<span class="lineno"> 333</span>         maxlinelen is determined at header construction time.
<span class="lineno"> 334</span> 
<span class="lineno"> 335</span>         Optional splitchars is a string containing characters which should be
<span class="lineno"> 336</span>         given extra weight by the splitting algorithm during normal header
<span class="lineno"> 337</span>         wrapping.  This is in very rough support of RFC 2822's `higher level
<span class="lineno"> 338</span>         syntactic breaks':  split points preceded by a splitchar are preferred
<span class="lineno"> 339</span>         during line splitting, with the characters preferred in the order in
<span class="lineno"> 340</span>         which they appear in the string.  Space and tab may be included in the
<span class="lineno"> 341</span>         string to indicate whether preference should be given to one over the
<span class="lineno"> 342</span>         other as a split point when other split chars do not appear in the line
<span class="lineno"> 343</span>         being split.  Splitchars does not affect RFC 2047 encoded lines.
<span class="lineno"> 344</span> 
<span class="lineno"> 345</span>         Optional linesep is a string to be used to separate the lines of
<span class="lineno"> 346</span>         the value.  The default value is the most useful for typical
<span class="lineno"> 347</span>         Python applications, but it can be set to \r\n to produce RFC-compliant
<span class="lineno"> 348</span>         line separators when needed.
<span class="lineno"> 349</span>         """
<span class="lineno"> 350</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" title="Header -&gt; None">_normalize</a>()
<span class="lineno"> 351</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="None">maxlinelen</a> is None:
<span class="lineno"> 352</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="?">maxlinelen</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._maxlinelen" title="int">_maxlinelen</a>
<span class="lineno"> 353</span>         # A maxlinelen of 0 means don't wrap.  For all practical purposes,
<span class="lineno"> 354</span>         # choosing a huge number here accomplishes that and makes the
<span class="lineno"> 355</span>         # _ValueFormatter algorithm much simpler.
<span class="lineno"> 356</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="?">maxlinelen</a> == 0:
<span class="lineno"> 357</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="int">maxlinelen</a> = 1000000
<span class="lineno"> 358</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter" title="&lt;_ValueFormatter&gt;">_ValueFormatter</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._headerlen" title="int">_headerlen</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.maxlinelen" title="int">maxlinelen</a>,
<span class="lineno"> 359</span>                                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" title="str">_continuation_ws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.splitchars" title="str">splitchars</a>)
<span class="lineno"> 360</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" title="None">lastcs</a> = None
<span class="lineno"> 361</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" title="None">hasspace</a> = <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" title="None"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" title="None">lastspace</a> = None
<span class="lineno"> 362</span>         for <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="{[?] | [?]}">_chunks</a>:
<span class="lineno"> 363</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" title="None">hasspace</a> is not None:
<span class="lineno"> 364</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" title="(str, str, str)">hasspace</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" title="(Header, ?) -&gt; (str, str, str)">_nonctext</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a>[0])
<span class="lineno"> 365</span>                 import sys
<span class="lineno"> 366</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" title="None">lastcs</a> not in (None, 'us-ascii'):
<span class="lineno"> 367</span>                     if not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" title="(str, str, str)">hasspace</a> or <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a> not in (None, 'us-ascii'):
<span class="lineno"> 368</span>                         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" title="_ValueFormatter -&gt; None">add_transition</a>()
<span class="lineno"> 369</span>                 elif <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a> not in (None, 'us-ascii') and not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" title="None">lastspace</a>:
<span class="lineno"> 370</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" title="_ValueFormatter -&gt; None">add_transition</a>()
<span class="lineno"> 371</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastspace" title="(str, str, str)">lastspace</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._nonctext" title="(Header, ?) -&gt; (str, str, str)">_nonctext</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a>[-1])
<span class="lineno"> 372</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lastcs" title="?">lastcs</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>
<span class="lineno"> 373</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.hasspace" title="bool">hasspace</a> = False
<span class="lineno"> 374</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" title="?">lines</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.string" title="?">string</a>.splitlines()
<span class="lineno"> 375</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" title="?">lines</a>:
<span class="lineno"> 376</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" title="(_ValueFormatter, str, str, ?) -&gt; ?">feed</a>('', <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" title="?">lines</a>[0], <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>)
<span class="lineno"> 377</span>             else:
<span class="lineno"> 378</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" title="(_ValueFormatter, str, str, ?) -&gt; ?">feed</a>('', '', <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>)
<span class="lineno"> 379</span>             for <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" title="?">line</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" title="?">lines</a>[1:]:
<span class="lineno"> 380</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>()
<span class="lineno"> 381</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>.header_encoding is not None:
<span class="lineno"> 382</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" title="(_ValueFormatter, str, str, ?) -&gt; ?">feed</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._continuation_ws" title="str">_continuation_ws</a>, ' ' + <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" title="?">line</a>.lstrip(),
<span class="lineno"> 383</span>                                    <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>)
<span class="lineno"> 384</span>                 else:
<span class="lineno"> 385</span>                     <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" title="?">sline</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" title="?">line</a>.lstrip()
<span class="lineno"> 386</span>                     <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.fws" title="?">fws</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" title="?">line</a>[:len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.line" title="?">line</a>)-len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" title="?">sline</a>)]
<span class="lineno"> 387</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" title="(_ValueFormatter, str, str, ?) -&gt; ?">feed</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.fws" title="?">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.sline" title="?">sline</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.charset" title="?">charset</a>)
<span class="lineno"> 388</span>             if len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.lines" title="?">lines</a>) &gt; 1:
<span class="lineno"> 389</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>()
<span class="lineno"> 390</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.self" title="Header">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="{[?] | [?]}">_chunks</a>:
<span class="lineno"> 391</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" title="_ValueFormatter -&gt; None">add_transition</a>()
<span class="lineno"> 392</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" title="str">value</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.formatter" title="_ValueFormatter">formatter</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" title="(_ValueFormatter, str) -&gt; str">_str</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.linesep" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.linesep" title="str">linesep</a>)
<span class="lineno"> 393</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._embeded_header" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._embeded_header" title="str">_embeded_header</a>.search(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" title="str">value</a>):
<span class="lineno"> 394</span>             raise HeaderParseError("header value appears to contain "
<span class="lineno"> 395</span>                 "an embedded header: {!r}".format(value))
<span class="lineno"> 396</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header.encode.value" title="str">value</a>
<span class="lineno"> 397</span> 
<span class="lineno"> 398</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize" title="Header -&gt; None">_normalize</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" title="Header">self</a>):
<span class="lineno"> 399</span>         # Step 1: Normalize the chunks so that all runs of identical charsets
<span class="lineno"> 400</span>         # get collapsed into a single unicode string.
<span class="lineno"> 401</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" title="[?]">chunks</a> = []
<span class="lineno"> 402</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="None">last_charset</a> = None
<span class="lineno"> 403</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="[?]">last_chunk</a> = []
<span class="lineno"> 404</span>         for <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" title="?">charset</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" title="Header">self</a>._chunks:
<span class="lineno"> 405</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" title="?">charset</a> == <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="None">last_charset</a>:
<span class="lineno"> 406</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="[?]">last_chunk</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" title="?">string</a>)
<span class="lineno"> 407</span>             else:
<span class="lineno"> 408</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="None">last_charset</a> is not None:
<span class="lineno"> 409</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" title="[?]">chunks</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" title="str">SPACE</a>.join(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="[?]">last_chunk</a>), <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="None">last_charset</a>))
<span class="lineno"> 410</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="[?]">last_chunk</a> = [<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.string" title="?">string</a>]
<span class="lineno"> 411</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="?">last_charset</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.charset" title="?">charset</a>
<span class="lineno"> 412</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="{[?] | [?]}">last_chunk</a>:
<span class="lineno"> 413</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" title="[?]">chunks</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.SPACE" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.SPACE" title="str">SPACE</a>.join(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_chunk" title="{[?] | [?]}">last_chunk</a>), <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.last_charset" title="{None | ?}">last_charset</a>))
<span class="lineno"> 414</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.self" title="Header">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._chunks" title="[?]">_chunks</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.Header._normalize.chunks" title="[?]">chunks</a>
<span class="lineno"> 415</span> 
<span class="lineno"> 416</span> 
<span class="lineno"> 417</span> 
<span class="lineno"> 418</span> class <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter" title="&lt;_ValueFormatter&gt;">_ValueFormatter</a>:
<span class="lineno"> 419</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__" title="(_ValueFormatter, ?, int, ?, str) -&gt; None">__init__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.headerlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.headerlen" title="?">headerlen</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.maxlen" title="int">maxlen</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" title="?">continuation_ws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.splitchars" title="str">splitchars</a>):
<span class="lineno"> 420</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" title="int">_maxlen</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.maxlen" title="int">maxlen</a>
<span class="lineno"> 421</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" title="?">_continuation_ws</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" title="?">continuation_ws</a>
<span class="lineno"> 422</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws_len" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws_len" title="int">_continuation_ws_len</a> = len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.continuation_ws" title="?">continuation_ws</a>)
<span class="lineno"> 423</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" title="str">_splitchars</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.splitchars" title="str">splitchars</a>
<span class="lineno"> 424</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a> = []
<span class="lineno"> 425</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.self" title="_ValueFormatter">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator" title="&lt;_Accumulator&gt;">_Accumulator</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.headerlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__init__.headerlen" title="?">headerlen</a>)
<span class="lineno"> 426</span> 
<span class="lineno"> 427</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" title="(_ValueFormatter, str) -&gt; str">_str</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" title="_ValueFormatter">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.linesep" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.linesep" title="str">linesep</a>):
<span class="lineno"> 428</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>()
<span class="lineno"> 429</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.linesep" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.linesep" title="str">linesep</a>.join(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a>)
<span class="lineno"> 430</span> 
<span class="lineno"> 431</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__" title="_ValueFormatter -&gt; str">__str__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__.self" title="_ValueFormatter">self</a>):
<span class="lineno"> 432</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.__str__.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._str" title="(_ValueFormatter, str) -&gt; str">_str</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.NL" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.NL" title="str">NL</a>)
<span class="lineno"> 433</span> 
<span class="lineno"> 434</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>):
<span class="lineno"> 435</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" title="(str, str)">end_of_line</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" title="_Accumulator -&gt; (str, str)">pop</a>()
<span class="lineno"> 436</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" title="(str, str)">end_of_line</a> != (' ', ''):
<span class="lineno"> 437</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(*<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.end_of_line" title="(str, str)">end_of_line</a>)
<span class="lineno"> 438</span>         if len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>) &gt; 0:
<span class="lineno"> 439</span>             if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws" title="_Accumulator -&gt; int">is_onlyws</a>():
<span class="lineno"> 440</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a>[-1] += str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>)
<span class="lineno"> 441</span>             else:
<span class="lineno"> 442</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a>.append(str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>))
<span class="lineno"> 443</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" title="(_Accumulator, None) -&gt; None">reset</a>()
<span class="lineno"> 444</span> 
<span class="lineno"> 445</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition" title="_ValueFormatter -&gt; None">add_transition</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition.self" title="_ValueFormatter">self</a>):
<span class="lineno"> 446</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.add_transition.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(' ', '')
<span class="lineno"> 447</span> 
<span class="lineno"> 448</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed" title="(_ValueFormatter, str, str, ?) -&gt; ?">feed</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" title="str">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" title="?">charset</a>):
<span class="lineno"> 449</span>         # If the charset has no header encoding (i.e. it is an ASCII encoding)
<span class="lineno"> 450</span>         # then we must split the header at the "highest level syntactic break"
<span class="lineno"> 451</span>         # possible. Note that we don't have a lot of smarts about field
<span class="lineno"> 452</span>         # syntax; we just try to break on semi-colons, then commas, then
<span class="lineno"> 453</span>         # whitespace.  Eventually, this should be pluggable.
<span class="lineno"> 454</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" title="?">charset</a>.header_encoding is None:
<span class="lineno"> 455</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split" title="(_ValueFormatter, str, ?, str) -&gt; None">_ascii_split</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" title="str">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" title="?">string</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" title="str">_splitchars</a>)
<span class="lineno"> 456</span>             return
<span class="lineno"> 457</span>         # Otherwise, we're doing either a Base64 or a quoted-printable
<span class="lineno"> 458</span>         # encoding which means we don't need to split the line on syntactic
<span class="lineno"> 459</span>         # breaks.  We can basically just find enough characters to fit on the
<span class="lineno"> 460</span>         # current line, minus the RFC 2047 chrome.  What makes this trickier
<span class="lineno"> 461</span>         # though is that we have to split at octet boundaries, not character
<span class="lineno"> 462</span>         # boundaries but it's only safe to split at character boundaries so at
<span class="lineno"> 463</span>         # best we can only get close.
<span class="lineno"> 464</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" title="?">encoded_lines</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.charset" title="?">charset</a>.header_encode_lines(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.string" title="?">string</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths" title="_ValueFormatter -&gt; None">_maxlengths</a>())
<span class="lineno"> 465</span>         # The first element extends the current line, but if it's None then
<span class="lineno"> 466</span>         # nothing more fit on the current line so start a new line.
<span class="lineno"> 467</span>         try:
<span class="lineno"> 468</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" title="?">first_line</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" title="?">encoded_lines</a>.pop(0)
<span class="lineno"> 469</span>         except IndexError:
<span class="lineno"> 470</span>             # There are no encoded lines, so we're done.
<span class="lineno"> 471</span>             return
<span class="lineno"> 472</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" title="?">first_line</a> is not None:
<span class="lineno"> 473</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" title="(_ValueFormatter, str, ?) -&gt; ?">_append_chunk</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.fws" title="str">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.first_line" title="?">first_line</a>)
<span class="lineno"> 474</span>         try:
<span class="lineno"> 475</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.last_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.last_line" title="?">last_line</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" title="?">encoded_lines</a>.pop()
<span class="lineno"> 476</span>         except IndexError:
<span class="lineno"> 477</span>             # There was only one line.
<span class="lineno"> 478</span>             return
<span class="lineno"> 479</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>()
<span class="lineno"> 480</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" title="?">_continuation_ws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.last_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.last_line" title="?">last_line</a>)
<span class="lineno"> 481</span>         # Everything else are full lines in themselves.
<span class="lineno"> 482</span>         for <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.line" title="?">line</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.encoded_lines" title="?">encoded_lines</a>:
<span class="lineno"> 483</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a>.append(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws" title="?">_continuation_ws</a> + <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.feed.line" title="?">line</a>)
<span class="lineno"> 484</span> 
<span class="lineno"> 485</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths" title="_ValueFormatter -&gt; None">_maxlengths</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" title="_ValueFormatter">self</a>):
<span class="lineno"> 486</span>         # The first line's length.
<span class="lineno"> 487</span>         yield <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" title="int">_maxlen</a> - len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>)
<span class="lineno"> 488</span>         while True:
<span class="lineno"> 489</span>             yield <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" title="int">_maxlen</a> - <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlengths.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws_len" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._continuation_ws_len" title="int">_continuation_ws_len</a>
<span class="lineno"> 490</span> 
<span class="lineno"> 491</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split" title="(_ValueFormatter, str, ?, str) -&gt; None">_ascii_split</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.self" title="_ValueFormatter">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" title="str">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.string" title="?">string</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.splitchars" title="str">splitchars</a>):
<span class="lineno"> 492</span>         # The RFC 2822 header folding algorithm is simple in principle but
<span class="lineno"> 493</span>         # complex in practice.  Lines may be folded any place where "folding
<span class="lineno"> 494</span>         # white space" appears by inserting a linesep character in front of the
<span class="lineno"> 495</span>         # FWS.  The complication is that not all spaces or tabs qualify as FWS,
<span class="lineno"> 496</span>         # and we are also supposed to prefer to break at "higher level
<span class="lineno"> 497</span>         # syntactic breaks".  We can't do either of these without intimate
<span class="lineno"> 498</span>         # knowledge of the structure of structured headers, which we don't have
<span class="lineno"> 499</span>         # here.  So the best we can do here is prefer to break at the specified
<span class="lineno"> 500</span>         # splitchars, and hope that we don't choose any spaces or tabs that
<span class="lineno"> 501</span>         # aren't legal FWS.  (This is at least better than the old algorithm,
<span class="lineno"> 502</span>         # where we would sometimes *introduce* FWS after a splitchar, or the
<span class="lineno"> 503</span>         # algorithm before that, where we would turn all white space runs into
<span class="lineno"> 504</span>         # single spaces or tabs.)
<span class="lineno"> 505</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" title="?">parts</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re" ,="" xid=".Users.yinwang.Code.cpython.Lib.re" title="re">re</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/re.py.html#.Users.yinwang.Code.cpython.Lib.re.split" ,="" xid=".Users.yinwang.Code.cpython.Lib.re.split" title="(str, {S | str}, int, int) -&gt; ? | (str, {[?] | str | list}, int, int) -&gt; ? | (str, str, int, int) -&gt; ? | (str, {str | B}, int, int) -&gt; ?">split</a>("(["+<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.FWS" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.FWS" title="str">FWS</a>+"]+)", <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" title="str">fws</a>+<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.string" title="?">string</a>)
<span class="lineno"> 506</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" title="?">parts</a>[0]:
<span class="lineno"> 507</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" title="?">parts</a>[:0] = ['']
<span class="lineno"> 508</span>         else:
<span class="lineno"> 509</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" title="?">parts</a>.pop(0)
<span class="lineno"> 510</span>         for fws, part in zip(*[iter(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.parts" title="?">parts</a>)]*2):
<span class="lineno"> 511</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" title="(_ValueFormatter, str, ?) -&gt; ?">_append_chunk</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._ascii_split.fws" title="str">fws</a>, part)
<span class="lineno"> 512</span> 
<span class="lineno"> 513</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk" title="(_ValueFormatter, str, ?) -&gt; ?">_append_chunk</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.string" title="?">string</a>):
<span class="lineno"> 514</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.string" title="?">string</a>)
<span class="lineno"> 515</span>         if len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>) &gt; <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._maxlen" title="int">_maxlen</a>:
<span class="lineno"> 516</span>             # Find the best split point, working backward from the end.
<span class="lineno"> 517</span>             # There might be none, on a long first line.
<span class="lineno"> 518</span>             for <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" title="str">ch</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._splitchars" title="str">_splitchars</a>:
<span class="lineno"> 519</span>                 for <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" title="int">i</a> in range(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" title="_Accumulator -&gt; ?">part_count</a>()-1, 0, -1):
<span class="lineno"> 520</span>                     if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" title="str">ch</a>.isspace():
<span class="lineno"> 521</span>                         <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="?">fws</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" title="int">i</a>][0]
<span class="lineno"> 522</span>                         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="?">fws</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="?">fws</a>[0]==<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" title="str">ch</a>:
<span class="lineno"> 523</span>                             break
<span class="lineno"> 524</span>                     <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" title="?">prevpart</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" title="int">i</a>-1][1]
<span class="lineno"> 525</span>                     if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" title="?">prevpart</a> and <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.prevpart" title="?">prevpart</a>[-1]==<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.ch" title="str">ch</a>:
<span class="lineno"> 526</span>                         break
<span class="lineno"> 527</span>                 else:
<span class="lineno"> 528</span>                     continue
<span class="lineno"> 529</span>                 break
<span class="lineno"> 530</span>             else:
<span class="lineno"> 531</span>                 <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.part" title="str">part</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" title="_Accumulator -&gt; (str, str)">pop</a>()
<span class="lineno"> 532</span>                 if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" title="?">_initial_size</a> &gt; 0:
<span class="lineno"> 533</span>                     # There will be a header, so leave it on a line by itself.
<span class="lineno"> 534</span>                     <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter.newline" title="_ValueFormatter -&gt; None">newline</a>()
<span class="lineno"> 535</span>                     if not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a>:
<span class="lineno"> 536</span>                         # We don't use continuation_ws here because the whitespace
<span class="lineno"> 537</span>                         # after a header should always be a space.
<span class="lineno"> 538</span>                         <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a> = ' '
<span class="lineno"> 539</span>                 <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.fws" title="str">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.part" title="str">part</a>)
<span class="lineno"> 540</span>                 return
<span class="lineno"> 541</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.remainder" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.remainder" title="?">remainder</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from" title="(_Accumulator, int) -&gt; ?">pop_from</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.i" title="int">i</a>)
<span class="lineno"> 542</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._lines" title="[str]">_lines</a>.append(str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>))
<span class="lineno"> 543</span>             <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.self" title="_ValueFormatter">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._current_line" title="_Accumulator">_current_line</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" title="(_Accumulator, None) -&gt; None">reset</a>(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.remainder" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._ValueFormatter._append_chunk.remainder" title="?">remainder</a>)
<span class="lineno"> 544</span> 
<span class="lineno"> 545</span> 
<span class="lineno"> 546</span> class <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator" title="&lt;_Accumulator&gt;">_Accumulator</a>(list):
<span class="lineno"> 547</span> 
<span class="lineno"> 548</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__" title="(_Accumulator, int) -&gt; None">__init__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.self" title="_Accumulator">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.initial_size" title="?">initial_size</a>=0):
<span class="lineno"> 549</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.self" title="_Accumulator">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" title="?">_initial_size</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__init__.initial_size" title="?">initial_size</a>
<span class="lineno"> 550</span>         super().__init__()
<span class="lineno"> 551</span> 
<span class="lineno"> 552</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push" title="(_Accumulator, str, str) -&gt; None">push</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.self" title="_Accumulator">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.fws" title="str">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.string" title="str">string</a>):
<span class="lineno"> 553</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.self" title="_Accumulator">self</a>.append((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.fws" title="str">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.string" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.push.string" title="str">string</a>))
<span class="lineno"> 554</span> 
<span class="lineno"> 555</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from" title="(_Accumulator, int) -&gt; ?">pop_from</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" title="_Accumulator">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" title="int">i</a>=0):
<span class="lineno"> 556</span>         <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.popped" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.popped" title="?">popped</a> = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" title="_Accumulator">self</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" title="int">i</a>:]
<span class="lineno"> 557</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.self" title="_Accumulator">self</a>[<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.i" title="int">i</a>:] = []
<span class="lineno"> 558</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.popped" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop_from.popped" title="?">popped</a>
<span class="lineno"> 559</span> 
<span class="lineno"> 560</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop" title="_Accumulator -&gt; (str, str)">pop</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop.self" title="_Accumulator">self</a>):
<span class="lineno"> 561</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.pop.self" title="_Accumulator">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" title="_Accumulator -&gt; ?">part_count</a>()==0:
<span class="lineno"> 562</span>             return ('', '')
<span class="lineno"> 563</span>         return super().pop()
<span class="lineno"> 564</span> 
<span class="lineno"> 565</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__" title="_Accumulator -&gt; int">__len__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" title="_Accumulator">self</a>):
<span class="lineno"> 566</span>         return sum((len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" title="?">fws</a>)+len(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" title="?">part</a>) for <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" title="?"></a><a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.fws" title="?">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" title="?"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.part" title="?">part</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" title="_Accumulator">self</a>),
<span class="lineno"> 567</span>                    <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__len__.self" title="_Accumulator">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" title="int">_initial_size</a>)
<span class="lineno"> 568</span> 
<span class="lineno"> 569</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__" title="_Accumulator -&gt; str">__str__</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.self" title="_Accumulator">self</a>):
<span class="lineno"> 570</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" title="str">EMPTYSTRING</a>.join((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header.EMPTYSTRING" title="str">EMPTYSTRING</a>.join((<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" title="?">fws</a>, <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" title="?">part</a>))
<span class="lineno"> 571</span>                                 for <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" title="?"></a><a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.fws" title="?">fws</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" title="?"></a><a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.part" title="?">part</a> in <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.__str__.self" title="_Accumulator">self</a>))
<span class="lineno"> 572</span> 
<span class="lineno"> 573</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset" title="(_Accumulator, None) -&gt; None">reset</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" title="_Accumulator">self</a>, <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" title="None">startval</a>=None):
<span class="lineno"> 574</span>         if <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" title="None">startval</a> is None:
<span class="lineno"> 575</span>             <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" title="[?]">startval</a> = []
<span class="lineno"> 576</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" title="_Accumulator">self</a>[:] = <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.startval" title="[?]">startval</a>
<span class="lineno"> 577</span>         <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.reset.self" title="_Accumulator">self</a>.<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" title="int">_initial_size</a> = 0
<span class="lineno"> 578</span> 
<span class="lineno"> 579</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws" title="_Accumulator -&gt; int">is_onlyws</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" title="_Accumulator">self</a>):
<span class="lineno"> 580</span>         return <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" title="_Accumulator">self</a>.<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator._initial_size" title="?">_initial_size</a>==0 and (not <a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" title="_Accumulator">self</a> or str(<a href="http://www.yinwang.org/resources/demos/pysonar2/email/header.py.html#.Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.is_onlyws.self" title="_Accumulator">self</a>).isspace())
<span class="lineno"> 581</span> 
<span class="lineno"> 582</span>     def <a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count" title="_Accumulator -&gt; ?">part_count</a>(<a name=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count.self" ,="" xid=".Users.yinwang.Code.cpython.Lib.email.header._Accumulator.part_count.self" title="_Accumulator">self</a>):
<span class="lineno"> 583</span>         return super().__len__()
</pre></td></tr></tbody></table></body></html>